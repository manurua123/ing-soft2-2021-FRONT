<div class="main-content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header card-header-danger">
            <h4 class="card-title "> Reporte de Pasjeros Riesgosos</h4>
            <button (click)="ExportTOExcel()" class="btn btn-success pull-right">Exportar
              <i class="material-icons pl-2">
                file_download
              </i>
            </button>
            <button (click)="filtrarDatos()" *ngIf="!filtrado" class="btn btn-success pull-left">Ultimo
              <i class="material-icons pl-2">
                filter_alt
              </i>
            </button>
            <button (click)="eliminarFiltro()" *ngIf="filtrado" class="btn btn-success pull-left">Todos
              <i class="material-icons pl-2">
                filter_alt
              </i>
            </button>
          </div>
          <div class="clearfix"></div>
          <div class="card-body" #TABLE #table>
            <div class="table-responsive">
              <mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                <ng-container matColumnDef="departure_date">
                  <th class="corto" mat-header-cell *matHeaderCellDef mat-sort-header> Dia desalida</th>
                  <td mat-cell *matCellDef="let element"> {{changeFormat(element['travel'].arrival_date)}} </td>
                </ng-container>
                <ng-container matColumnDef="arrival_date">
                  <th  class="corto" mat-header-cell *matHeaderCellDef mat-sort-header> Dia dellegada</th>
                  <td mat-cell *matCellDef="let element"> {{changeFormat(element['travel'].arrival_date)}} </td>
                </ng-container>
                <ng-container matColumnDef="origin">
                  <th class='largo' mat-header-cell *matHeaderCellDef mat-sort-header> Origen </th>
                  <td mat-cell *matCellDef="let element"> {{element['travel'].origin}} </td>
                </ng-container>
                <ng-container matColumnDef="destination">
                  <th class='largo' mat-header-cell *matHeaderCellDef mat-sort-header> Destino </th>
                  <td mat-cell *matCellDef="let element"> {{element['travel'].destination}} </td>
                </ng-container>
                <ng-container matColumnDef="departure_time">
                  <th class="corto" mat-header-cell *matHeaderCellDef mat-sort-header> Salida</th>
                  <td mat-cell *matCellDef="let element"> {{element['travel'].departure_time}} </td>
                </ng-container>
                <ng-container matColumnDef="arrival_time">
                  <th class="corto" mat-header-cell *matHeaderCellDef> Llegada</th>
                  <td mat-cell *matCellDef="let element"> {{element['travel'].arrival_time}} </td>
                </ng-container>
                <ng-container matColumnDef='username' ,>
                  <th class="largo" mat-header-cell *matHeaderCellDef> Usuario </th>
                  <td mat-cell *matCellDef="let element"> {{element['user'].username}} </td>
                </ng-container>
                <ng-container matColumnDef='fullName' ,>
                  <th class="largo" mat-header-cell *matHeaderCellDef> Nombre Completo </th>
                  <td mat-cell *matCellDef="let element"> {{element.firstName + '-'+element.lastName}} </td>
                </ng-container>
                <ng-container matColumnDef='start_date_suspension' ,>
                  <th class="corto" mat-header-cell *matHeaderCellDef> Inicio BAN </th>
                  <td mat-cell *matCellDef="let element"> {{changeFormat(element['travel'].arrival_date)}} </td>
                </ng-container>
                <ng-container matColumnDef='end_date_suspension'>
                  <th class="corto" mat-header-cell *matHeaderCellDef> Fin BAN</th>
                  <td mat-cell *matCellDef="let element"> {{end_date_suspension(element['travel'].arrival_date)}} </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              </mat-table>

           
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>